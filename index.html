<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
	<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<link rel="stylesheet" type="text/css" href="main.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>

<style>
body {font-family: Arial;}

/* Style the tab */
.tab {
  overflow: hidden;
  border: 1px solid #ccc;
  background-color: #f1f1f1;
}

/* Style the buttons inside the tab */
.tab button {
  background-color: inherit;
  float: left;
  border: none;
  outline: none;
  cursor: pointer;
  padding: 14px 16px;
  transition: 0.3s;
  font-size: 17px;
}

/* Change background color of buttons on hover */
.tab button:hover {
  background-color: #ddd;
}

/* Create an active/current tablink class */
.tab button.active {
  background-color: #ccc;
}

/* Style the tab content */
.tabcontent {
  display: none;
  padding: 6px 12px;
  border: 1px solid #ccc;
  border-top: none;
}
.card-columns {
   column-count: 3;
}
h2 {
    font-family: Arial, Verdana;
    font-weight: 800;
    font-size: 2.5rem;
    color: #091f2f;
    text-transform: uppercase;
}
.accordion-section .panel-default > .panel-heading {
    border: 0;
    background: #f4f4f4;
    padding: 0;
}
.accordion-section .panel-default .panel-title a {
    display: block;
    font-style: italic;
    font-size: 1.5rem;
}
.accordion-section .panel-default .panel-title a:after {
    font-family: 'FontAwesome';
    font-style: normal;
    font-size: 3rem;
    content: "\f106";
    color: #1f7de2;
    float: right;
    margin-top: -12px;
}
.accordion-section .panel-default .panel-title a.collapsed:after {
    content: "\f107";
}
.accordion-section .panel-default .panel-body {
    font-size: 1.2rem;
}
</style>
</head>

<div class="tab">
  <button class="tablinks" onclick="openTab(event, 'home')" id="defaultOpen">Home</button>
  <button class="tablinks" onclick="openTab(event, 'reg')">Register</button>
  <button class="tablinks" onclick="openTab(event, 'manage')">Manage</button>
  <button class="tablinks" onclick="openTab(event, 'about')">About</button>
  <button class="tablinks" onclick="openTab(event, 'faq')">FAQ</button>
  <button class="tablinks" onclick="openTab(event, 'prices')">Prices</button>
  <button class="tablinks" onclick="openTab(event, 'contracts')">Contracts</button>
</div>
<body>

<div class="container">
 <div class="alert alert-warning alert-dismissible fade show" role="alert">
  <strong>This system is currently in Alpha. Contracts and website interface have not been audited. Use at your own risk. To use this site you must be connected to the Etherem network via MetaMask or another local provider.</strong>
  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<h1>Ethereum Alternative Root Naming System (EARNS)</h1>
<div id="home" class="tabcontent">
<p>Welcome to the Ethereum Alternative Root Naming System, or "EARNS" for short.</p>

<p>We provide registration and resolution of decentralized domain names utilizing the Ethereum blockchain.</p>

</br></br>
<h3>Currently Available TLDs:</h3>
<div class="container">
  <ul class="list-unstyled card-columns">
    <li>.defi</li>
    <li>.dapp</li>
    <li>.dex</li>
    <li>.cex</li>
    <li>.wallet</li>
    <li>.yield</li>
    <li>.farming</li>
    <li>.shibe</li>
	<li>.doge</li>
	<li>.linkmarine</li>
	<li>.yam</li>
	<li>.yfi</li>
	<li>.btc</li>
	<li>.ether</li>
	<li>.xrp</li>
	<li>.xlm</li>
	<li>.xmr</li>
	<li>.etc</li>
	<li>.staking</li>
	<li>.dao</li>
	<li>.nft</li>
	<li>.sol</li>
	<li>.solidity</li>
	<li>.contract</li>
	<li>.smartcontract</li>
	<li>.decentralized</li>
	<li>.blockchain</li>
	<li>.chain</li>
	<li>.pool</li>
  </ul>
</div>

In the future our resolver will also be able to resolve .eth domains and other traditional non-decentralized domains.

If you are a blockchain, dapp, exchange or other project interested in your own TLD, please get in touch.

</div>
<div id="reg" class="tabcontent">
<p>There is no minimum length to domain name registration, but, a domains price per year depends on the length of the domain name and the TLD. Please check the prices page for or query a domains price before making a purchase.</p>
<br>
<p>The EARNS system supports emoji's, numbers, punycode, non-english letter characters and other Unicode symbols (and is case sensitive). However, this interface does not yet support these features. This page applies standard namehashing to English characters. If you wish to get a specialty domain name you must interact directly with the contract or check out the store on OpenSea for specialty domains that have already been minted and added to circulation.</p>

<strong><u>Check availability:</u></strong>
<h2 id="Domain"></h2><br>
<label for="name" class="col-lg-2 control-label"></label>
        <input id="name" type="text">
<button id="button">query</button></br>
<p id="availresult"></p>
</br></br>
<b><u>Check Price:</u></b><br>
<label for="pricecheck" class="col-lg-2 control-label"></label>
<input id="pricecheck" type="text">
<button id="pricecheckbtn">check price</button></br>
<p id="priceresult"></p>
</br></br></br>
<strong><u>Purchase a Domain:</u></strong><br>
<p>When purchasing a domain, you'll recieve two transactions. The first is a "commitment" to prevent front running. Once you submit this transaction, you'll wait for 1.5 minutes and then be presented with a second transaction where you will buy and register the domain.</p>
<p>This second transaction will include the domain fee +10% so that if the price of ETH changes while waiting for the transaction you'll still get the domain. The leftover ETH will be returned to you.</p>
<label for="committer" class="col-lg-2 control-label"></label>
<input id="committer" type="text">
<button id="committerbtn">commit</button>


<br><br><br>
<b><u>Status:</b></u><br><br>
<p id="status"></p>
<span id="timer">
	<span id="time"></span>
</span>
</div>
<div id="about" class="tabcontent">
<p>Domain names on the regular internet are managed by ICANN and DNS (the system for resolving domain names) is managed by their subsidiary IANA.</p>
<p>While previously ICANN was a federal entity with the US department of labor - it was spun out into a private non-profit foundation and promised to decentralize their control over domain name spaces. That never happened, instead they created and auctioned off hundreds of new TLDs and maintained tight control over DNS which runs on only 13 root node servers managed by IANA.</p>
<p>Alternative root node systems attempt to replace ICANN's hold on domain names. Projects like Namecoin and Handshake have tried to solve this on their own blockchains, and projects like the Ethereum Naming Service (which this project is based on) have tried to solve that challenge for niche name spaces. But, no one has attempted to build out broad, multi-namespace infastructure to replace the ICANN/DNS system and secure it with Ethereum. That's where EARNS comes in.</p>

<p>EARNS provides users the ability to register decentralized (ERC721 NFT) domain names on unique name spaces like .defi .dapp and more than 35+ other TLDs slated for launch. We also allow users and companies to apply for and manage their own custom TLD.</p>

<p>Each TLD has a 'resolver' contract allowing it to resolve centralized websites, decentralized websites, wallet addresses, email addresses, Twitter handles, and whatever other content a user wishes to serve up. It also supports multi-context resolving, so the same address can point to a website when being typed into an address bar or a wallet address when typed into a wallet transaction. We even support multi-cointype lookups, meaning a user could type in their name as "defi.wallet" at an exchange when withdrawing crypto, and the exchange could see a list of wallets knowing which wallet to send to if the user is withdrawing BTC, and sending to a different address if they are withdrawing ETH.</p>

<p>Over the coming years, it's the ambition of EARNS to build out unified APIs that allow non-decentralized companies to easily integrate with EARNS for lookup and registration (so you can buy decentralized domains at your favorite registrar) and to launch our own traditional DNS servers to allow your average browser to resolve decentralized domains without costly blockchain transactions.</p>

<p>We have a long journey ahead of us, and a tough fight in taking on the largest centralized figure in the modern web. But we're excited to bring a new wave of decentralization to the world and win back the internet in a decentralized fashion!</p>
</div>
<div id="manage" class="tabcontent">
<p>On this page, you can manage domains you own.<br><br>EARNS system allows you to declare:
<ul>
<li>An Ethereum address to resolve on wallet transactions.
<li>A URL to resolve in web navigations OR a content hash for a decentralized website hosted on Swarm.
<li>ABI Specifications if the Ethereum address is a contract.
<li>Any other arbitrary information stored in a key:text format.
<li>Other non-Ethereum wallet addresses stored using the 'Coin' declaration.
</ul>
<br><br>
Right now, this page supports setting your domains Ethereum address in the main resolver for each TLD. We'll be adding support for more resolver methods in the coming weeks.</p>
<label for="resolveaddr" class="col-lg-2 control-label">Domain:</label>
<input id="resolveaddr" type="text">
<label for="walletaddr" class="col-lg-2 control-label">Your Wallet Address:</label>
<input id="walletaddr" type="text">
<button id="managebtn">Set Eth Address</button></br>
</div>
<div id="faq" class="tabcontent">
<section class="accordion-section clearfix mt-3" aria-label="Question Accordions">
  <div class="container">
  
	  <h2>Frequently Asked Questions </h2>
	  <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
		<div class="panel panel-default">
		  <div class="panel-heading p-3 mb-3" role="tab" id="heading0">
			<h3 class="panel-title">
			  <a class="collapsed" role="button" title="" data-toggle="collapse" data-parent="#accordion" href="#collapse0" aria-expanded="true" aria-controls="collapse0">
				What is EARNS?
			  </a>
			</h3>
		  </div>
		  <div id="collapse0" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading0">
			<div class="panel-body px-3 mb-4">
			  <p>The EARNS system is an alternative to classic domain names and traditional DNS. Commonly referred to as an 'alternative DNS root'. EARNS offers:</p>
			  <ul>
				<li>NFT tokenized domain names on a central smart contract registry.</li>
				<li>The ability to associate and resolve any type of information with an NFT token using a public resolver.</li>
				<li>Multi-coin address resolution support.</li>
				<li>Cross blockchain name resolution support.</li>
				<li>Uncensorable domain names.</li>
			  </ul>
			</div>
		  </div>
		</div>
		
		<div class="panel panel-default">
		  <div class="panel-heading p-3 mb-3" role="tab" id="heading1">
			<h3 class="panel-title">
			  <a class="collapsed" role="button" title="" data-toggle="collapse" data-parent="#accordion" href="#collapse1" aria-expanded="true" aria-controls="collapse1">
				How is the EARNS system different from other alternative DNS roots?
			  </a>
			</h3>
		  </div>
		  <div id="collapse1" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading1">
			<div class="panel-body px-3 mb-4">
			  <p>Most alternative root systems only aim to replicate the DNS root that is owned by ICANN, a centralized foundation that was previously part of the US government. Some blockchain based alternative DNS roots such as Namecoin and Handshake attempt to fully replace ICANN's DNS system but do so on their own blockchains that require unique incentive methods and lack the hash security of the Ethereum blockchain.</p>
			  <p>The other main alternative domain system ENS (.eth). While ENS started as part of the Ethereum foundation it spun out into a seperate organization. ENS views themselves as part of the DNS global name space and is focused solely on resolving the .eth TLD, and existing TLDs. Not in bringing new systems to market. Furthermore, since the .eth TLD is already part of the gTLD namespace on traditional DNS, .eth can never be reconiciled in a system that supports traditional DNS.</p>
			  <p>The goal of EARNS on the other hand is to build a new system of TLDs that can eventually be bridged onto the main DNS space, through a specialized staking sidechain. Allowing users to use their new domains both in the same contexts they use .eth, but also eventually in traditional DNS.</p>
			  <p>While ENS is focused on bringing existing domain names into tokens, we're focused on going the other direction. Creating new TLDs as tokens, and bringing them to the larger world of DNS.</p>
			  <p>We think the work of ENS is critical (and its obviously foundational to our product as it is based on their work). We continue to support the work of ENS and do not see them as a competitor but instead a complementary service that deals with the other side of the same coin.</p>
			</div>
		  </div>
		</div>
		
		<div class="panel panel-default">
		  <div class="panel-heading p-3 mb-3" role="tab" id="heading2">
			<h3 class="panel-title">
			  <a class="collapsed" role="button" title="" data-toggle="collapse" data-parent="#accordion" href="#collapse2" aria-expanded="true" aria-controls="collapse2">
				What is EARNS view on the global DNS space?
			  </a>
			</h3>
		  </div>
		  <div id="collapse2" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading2">
			<div class="panel-body px-3 mb-4">
			  <p>We do not believe that ICANN/IANA should have sole anti-competitive authority over domain names, and that taking such a stance would fly in the face of the decentralization goals of blockchain technology.</p>
			  <p>At the same time, we understand and respect the complex and delicate system that DNS is and its importance to a functioning internet.</p>
			  <p>For this reason, EARNS is specifically bringing to market TLD extensions that do not currently exist in existing DNS name spaces.</p>
			  <p>We will respect the existing TLDs and gTLDs that ICANN has developed, and in turn expect the same.</p>
			  <p>This focus on supplemental TLDs is what will allow the EARNS system to eventually reconcile with traditional DNS systems</p>
			</div>
		  </div>
		</div>
		
		<div class="panel panel-default">
		  <div class="panel-heading p-3 mb-3" role="tab" id="heading3">
			<h3 class="panel-title">
			  <a class="collapsed" role="button" title="" data-toggle="collapse" data-parent="#accordion" href="#collapse3" aria-expanded="true" aria-controls="collapse3">
				How will you ensure that ICANN domains don't conflict with EARNS TLDs?
			  </a>
			</h3>
		  </div>
		  <div id="collapse3" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading3">
			<div class="panel-body px-3 mb-4">
			  <p>The TLDs we are bringing to market did not exist in any commercial offering prior to the time we brought them to market.</p>
			  <p>Given this, they are elgibile for trademarks in most major nations.</p>
			  <p>For each non-private domain TLD such as ".defi" we will file a US trademark for the namemark in use related to computer activities specifically the resolution of names and addresses. (Note: These marks would only defend ".defi" terms and have no impact on the generic term "defi" - the dot is the distinguishing feature of the mark. Unlike some other companies in the space, we believe the terms themselves should never be trademarked.)</p>
			  <p>These trademarks, that apply only to TLDs, give us the grounds to take legal action against ICANN/IANA in the rare and unlikely event that they attempt to create their own deployment of these TLDs in the global DNS namespace.</p>
			</div>
		  </div>
		</div>
		<div class="panel panel-default">
		  <div class="panel-heading p-3 mb-3" role="tab" id="heading4">
			<h3 class="panel-title">
			  <a class="collapsed" role="button" title="" data-toggle="collapse" data-parent="#accordion" href="#collapse4" aria-expanded="true" aria-controls="collapse4">
				How do you plan to supply records to the main DNS space?
			  </a>
			</h3>
		  </div>
		  <div id="collapse4" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading4">
			<div class="panel-body px-3 mb-4">
			  <p>Our long term vision for this is to create a L2 network of validator nodes which provide validated records from the EARNS namespace in a standard DNS format, allowing them to be resolved by standard browsers and DNS services.</p>
			  <p>These validators will serve as API services allowing traditional vendors to access the EARNS namespace as well as allowing traditional registrars to offer EARNS names for sale.</p>
			  <p>This is similar to current sidechain forwarding protocols that we see in existing protocols like the Pokt network for general Ethereum transactions.</p>
			  <p>In such a model these validators will stake and earn an $EARNS token for completing requests. Once there is a mature network, we'll allocate the $EARNS token as the standard payment method for domains within the EARNS system.</p>
			  <p>We expect it will be a number of years before we are ready to begin testing the validator stage, and in the mean time will focus on tools, extensions and integration partnerships that allow EARNS to be added to products in a similar way to the ENS system.</p>
			</div>
		  </div>
		</div>
		<div class="panel panel-default">
		  <div class="panel-heading p-3 mb-3" role="tab" id="heading5">
			<h3 class="panel-title">
			  <a class="collapsed" role="button" title="" data-toggle="collapse" data-parent="#accordion" href="#collapse5" aria-expanded="true" aria-controls="collapse5">
				Is there currently an $EARNS token?
			  </a>
			</h3>
		  </div>
		  <div id="collapse5" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading5">
			<div class="panel-body px-3 mb-4">
			  <p>While that is part of our long term plan - at this time there is no token.</p>
			  <p>Do not attempt to purchase any token that claims to be related to the $EARNS project, unless this FAQ is updated to reflect an official record. At such a time the token contract will be listed here for verification.</p>
			</div>
		  </div>
		</div>
		<div class="panel panel-default">
		  <div class="panel-heading p-3 mb-3" role="tab" id="heading6">
			<h3 class="panel-title">
			  <a class="collapsed" role="button" title="" data-toggle="collapse" data-parent="#accordion" href="#collapse6" aria-expanded="true" aria-controls="collapse6">
				How do I purchase a EARNS domain?
			  </a>
			</h3>
		  </div>
		  <div id="collapse6" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading6">
			<div class="panel-body px-3 mb-4">
			  <p>This website is configured to make purchasing an EARNS domain as simple as possible. When you type in a domain on the "register" tab it will automatically forward your transaction to the relevant "registrar" contract, as each TLD is controlled by a seperate and independent registrar.</p>
			  <p>When making a purchase, you'll first make a 'commitment' - this commitment is an encrypted confirmation of your intent to purchase a domain to prevent front-running and disputes.</p>
			  <p>After the commitment has been approved, you'll need to wait one minute before sending a transaction to finalize the registration.</p>
			  <p>These two seperate transactions are managed automatically on our website, but the time gap does not wait on a successful transaction response. So you will need to ensure you make a transaction using sufficient gas.</p>
			  <p>If you do not wish to use this site, you can directly interact with the registrar contract of your choice. You can look up these registrar on our "contracts" page. They have all been confirmed and supplied with an ABI on Etherscan making them easy to interact with.</p>
			</div>
		  </div>
		</div>
		<div class="panel panel-default">
		  <div class="panel-heading p-3 mb-3" role="tab" id="heading7">
			<h3 class="panel-title">
			  <a class="collapsed" role="button" title="" data-toggle="collapse" data-parent="#accordion" href="#collapse7" aria-expanded="true" aria-controls="collapse7">
				Once I purchase an EARNS domain, what should I do to configure it?
			  </a>
			</h3>
		  </div>
		  <div id="collapse7" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading7">
			<div class="panel-body px-3 mb-4">
			  <p>Each EARNS domain uses its own independent resolver, to simplify partnership integrations and to allow for unique TLDs to have their own unique functionality in the future.</p>
			  <p>Once you've purchased your domain, you'll want to ensure two core pieces of resolver information are configured.</p>
			  <p>The first is setting your Ethereum address. Which can be done on the "Manage" page of our site, or by using the command "setAddr(node, address)" on the smart contract. <i>(Note to developers: If you are integrating the resolver smart contract, please note that setAddr is an overloaded function with two versions. One for setting Ethereum addresses, and one for setting addresses for other tokens. To manage Ethereum addresses within an app using something like EthersJS you will need to declare the function explicitly as "setAddr(bytes32,address)")</i></p>
			  <p>The other parameter you'll want to configure is the domain name using the setName function. If you are doing this on the EARNS website, this second transaction will be done for you automatically.</p>
			  <p>This name function allows the resolver to return a simple plaintext string of the domain.</p>
			</div>
		  </div>
		</div>
		<div class="panel panel-default">
		  <div class="panel-heading p-3 mb-3" role="tab" id="heading8">
			<h3 class="panel-title">
			  <a class="collapsed" role="button" title="" data-toggle="collapse" data-parent="#accordion" href="#collapse8" aria-expanded="true" aria-controls="collapse8">
				Can I currently use EARNS names in tools like MetaMask or exchanges?
			  </a>
			</h3>
		  </div>
		  <div id="collapse8" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading8">
			<div class="panel-body px-3 mb-4">
			  <p>As EARNS is in its Alpha launch, we currently have limited integrations. We're currently actively working with partners in order to be able to have EARNS names resolve in your favorite tools and will have updates for this shortly.</p>
			</div>
		  </div>
		</div>
		<div class="panel panel-default">
		  <div class="panel-heading p-3 mb-3" role="tab" id="heading9">
			<h3 class="panel-title">
			  <a class="collapsed" role="button" title="" data-toggle="collapse" data-parent="#accordion" href="#collapse9" aria-expanded="true" aria-controls="collapse9">
				Why are some places unsafe to purchase EARNS names from and what should I look out for?
			  </a>
			</h3>
		  </div>
		  <div id="collapse9" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading9">
			<div class="panel-body px-3 mb-4">
			  <p>EARNS follows the namehash EIP-137 for name hashes which are non-human readable.</p>
			  <p>For this reason, ENS relies on resolvers to provide human readable strings to identify the specific name of a token.</p>
			  <p>When implemented properly, a DApp should resolve the human readable string from a resolver, and then apply the EIP-137 namehash to that string in order to ensure they match.</p>
			  <p>It is however possible for a DApp to improperly implement this system and to fail to check or validate a domain name, thus allowing for domain spoofing.</p>
			  <p>For this reason we encourage users to only purchase from the EARNS website, directly from contracts, or from our partners at OpenSea who have implemented full validation checks.</p>
			</div>
		  </div>
		</div>
		<div class="panel panel-default">
		  <div class="panel-heading p-3 mb-3" role="tab" id="heading10">
			<h3 class="panel-title">
			  <a class="collapsed" role="button" title="" data-toggle="collapse" data-parent="#accordion" href="#collapse10" aria-expanded="true" aria-controls="collapse10">
				What does it cost to purchase an EARNS domain?
			  </a>
			</h3>
		  </div>
		  <div id="collapse10" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading10">
			<div class="panel-body px-3 mb-4">
			  <p>EARNS domains through our website are sold on an annualized basis.</p>
			  <p>Different TLDs have different price ranges, depending on if their target audience is commercial or personal use.</p>
			  <p>We also increase the price based on the length of the domain, meaning that shorter names cost more.</p>
			  <p>The price for different TLDs is outlined on the prices page of this website. But the annual renewal fee ranges from $10 - $1000+</p>
			  <p>This pricing range is intended to prevent domain squatting. Since the EARNS team is unable to takeback a domain after registration, the only way to prevent squatters is using fee incentives that would make squatting without using a domain less likely to be a lucrative experience.</p>
			</div>
		  </div>
		</div>
		<div class="panel panel-default">
		  <div class="panel-heading p-3 mb-3" role="tab" id="heading11">
			<h3 class="panel-title">
			  <a class="collapsed" role="button" title="" data-toggle="collapse" data-parent="#accordion" href="#collapse11" aria-expanded="true" aria-controls="collapse11">
				Is there a limit to the domain name length I can register like with the initial ENS offering?
			  </a>
			</h3>
		  </div>
		  <div id="collapse11" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading11">
			<div class="panel-body px-3 mb-4">
			  <p>Unlike with the initial ENS offering, there is currently no reserve or block on registering shortnames. Any user, so long as they pay the fee, may register a short name.</p>
			</div>
		  </div>
		</div>
		<div class="panel panel-default">
		  <div class="panel-heading p-3 mb-3" role="tab" id="heading12">
			<h3 class="panel-title">
			  <a class="collapsed" role="button" title="" data-toggle="collapse" data-parent="#accordion" href="#collapse12" aria-expanded="true" aria-controls="collapse12">
				Are there auctions taking place for speciality names?
			  </a>
			</h3>
		  </div>
		  <div id="collapse12" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading12">
			<div class="panel-body px-3 mb-4">
			  <p>Short names are not forced into an auction scenario.</p>
			  <p>However, the EARNS team recognizes that there is high demand for certain speciality/generic wordmark or trade term domains, and that to release those on a first come, first serve basis would not be fair to all interested parties.</p>
			  <p>For this reason, the EARNs team will register some key domains prior to the launch of a new TLD and submit them for auction via OpenSea rather than allowing them to be sold on a first come, first serve manner.</p>
			  <p>Rather than this being all domain names under 7 characters in length, as with ENS, we expect these auctions to include, on average, 30 - 60 domains per TLD.</p>
			  <p>The domain auctions will be spread out over time and announced via our newsletter to ensure fair access.</p>
			</div>
		  </div>
		</div>
		<div class="panel panel-default">
		  <div class="panel-heading p-3 mb-3" role="tab" id="heading13">
			<h3 class="panel-title">
			  <a class="collapsed" role="button" title="" data-toggle="collapse" data-parent="#accordion" href="#collapse13" aria-expanded="true" aria-controls="collapse13">
				Can I get my own TLD?
			  </a>
			</h3>
		  </div>
		  <div id="collapse13" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading13">
			<div class="panel-body px-3 mb-4">
			  <p>EARNS supports the ability to create custom TLDs for projects and partners, however, the creation and on-going management of these TLDs does include a signifigant cost.</p>
			  <p>Partners interested in a custom TLD can reach out to us at tld@earns.domains - prices for starting your own TLD range from $25,000 - $250,000+ annually, depending on features, integrations, and user volume.</p>
			  <p>Partners whom reach more than 100,000+ users, may apply to have a custom TLD without payment, that EARNS will manage, so long as users are billed for the TLD. Affiliate arrangements and revenue sharing are available for such partners.</p>
			</div>
		  </div>
		</div>
		<div class="panel panel-default">
		  <div class="panel-heading p-3 mb-3" role="tab" id="heading14">
			<h3 class="panel-title">
			  <a class="collapsed" role="button" title="" data-toggle="collapse" data-parent="#accordion" href="#collapse14" aria-expanded="true" aria-controls="collapse14">
				Does EARNS support non-English, non-ASCII and emoji characters?
			  </a>
			</h3>
		  </div>
		  <div id="collapse14" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading14">
			<div class="panel-body px-3 mb-4">
			  <p>Yes. EARNS supports all character types since all names are standardized and in turn stored as a hash. In theory, you could even set a picture as a domain name.</p>
			  <p>However, many applications may be unable to interact with EARNS domains that do not use standard characters.</p>
			  <p>In most cases, English, Spanish, German, Latin, Russian and Chinese character sets are supported, and emojis are supported via punycode.</p>
			  <p>The EARNS website itself does not currently guarentee functionality when working with non-English characters. It is recommended that you use the registrar contracts directly to create these types of domain.</p>
			  <p>However, we do support a few emoji based and international TLDs, as well as emoji domains, that are directly listed with our partners at OpenSea.</p>
			</div>
		  </div>
		</div>
		<div class="panel panel-default">
		  <div class="panel-heading p-3 mb-3" role="tab" id="heading15">
			<h3 class="panel-title">
			  <a class="collapsed" role="button" title="" data-toggle="collapse" data-parent="#accordion" href="#collapse15" aria-expanded="true" aria-controls="collapse15">
				I'm a partner interested in integrating EARNS, how should I get started?
			  </a>
			</h3>
		  </div>
		  <div id="collapse15" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading15">
			<div class="panel-body px-3 mb-4">
			  <p>Partners who have already listed ENS will have no problem integrating the EARNS system.</p>
			  <p>EARNS has its own primary registry contract that can be used to identify the relevant resolvers for each TLD. Each TLD in turn has its own unique registrar and resolver.</p>
			  <p>With ENS you likely integrated with the public resolver and ETH registrar controller. Our system uses an almost identical ABI, and simple has different resolver/registrars based on the TLD.</p>
			  <p>If you haven't yet integrated with ENS and are looking for support in integrating EARNS, please reach out to partnerships@earns.domains</p>
			</div>
		  </div>
		</div>
		<div class="panel panel-default">
		  <div class="panel-heading p-3 mb-3" role="tab" id="heading16">
			<h3 class="panel-title">
			  <a class="collapsed" role="button" title="" data-toggle="collapse" data-parent="#accordion" href="#collapse16" aria-expanded="true" aria-controls="collapse16">
				I represent a different blockchain can you integrate EARNS with our chain?
			  </a>
			</h3>
		  </div>
		  <div id="collapse16" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading16">
			<div class="panel-body px-3 mb-4">
			  <p>If you are an EVM based blockchain that supports solidity smart contracts, we'd be happy to integrate EARNS support onto your blockchain. Such teams can reach out to partnerships@earns.domains to discuss grant funding costs for such integrations.</p>
			  <p>If you are a non-EVM based blockchain, we can likely still offer some limited functionality in the future when our EARNS DNS API sidechain is available. Please reach out and let us know of your interest and budget so we can support.</p>
			</div>
		  </div>
		</div>
				<div class="panel panel-default">
		  <div class="panel-heading p-3 mb-3" role="tab" id="heading17">
			<h3 class="panel-title">
			  <a class="collapsed" role="button" title="" data-toggle="collapse" data-parent="#accordion" href="#collapse17" aria-expanded="true" aria-controls="collapse17">
				How is EARNS governed?
			  </a>
			</h3>
		  </div>
		  <div id="collapse17" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading17">
			<div class="panel-body px-3 mb-4">
			  <p>Currently EARNS is a privately held entity.</p>
			  <p>However, the EARNS system is configured in such a manner that it is not possible for the team to seize, edit, reclaim, modify or overwrite your domain name once you own it as long as you continue to make your annual payments.</p>
			  <p>In the future we intend to decentralize the governance of the EARNS protocol through an $EARNS token.</p>
			</div>
		  </div>
		</div>
	  </div>
  
  </div>
</section>
</div>
<div id="prices" class="tabcontent">
<p>Prices for EARNS domains currently depend on:
<ul>
<li>The TLD.
<li>If the TLD is for commercial or personal use.
<li>The length of the domain.
</ul>
</br>
All prices are based in USD but billed in ETH. The pricing data is powered by Chainlink oracles.
</p>
<p>Currently, commercial use domains like .defi, .dapp, .dex, .cex, .staking, .pool and .dao have the follwing cost scales:</p>
<ul>
<li>1 Character domains: $1000/year
<li>2 Character domains: $750/year
<li>3 Character domains: $500/year
<li>4 Character domains: $250/year
<li>5 Character domains: $100/year
<li>6+ Character domains: $18/year
</ul>
<br>
<p>Emoji/International TLDs have the following cost scales:</p></br>
<ul>
<li>1 Character domains: $1000/year
<li>2 Character domains: $500/year
<li>3 Character domains: $300/year
<li>4 Character domains: $175/year
<li>5 Character domains: $75/year
<li>6+ Character domains: $15/year
</ul>
<br>
<p>All other domains/TLDs have the following cost scales:</p></br>
<ul>
<li>1 Character domains: $750/year
<li>2 Character domains: $500/year
<li>3 Character domains: $300/year
<li>4 Character domains: $150/year
<li>5 Character domains: $50/year
<li>6+ Character domains: $7/year
</ul>

</div>
<script type="module" crossorigin="anonymous">
    import { ethers } from "./ethers.esm.min.js";
	import { utils } from "./ethers.esm.min.js";
</script>
<script src="./ethers.umd.min.js" type="text/javascript">
</script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/ethjs@0.3.4/dist/ethjs.min.js"></script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>

<script>
document.getElementById("defaultOpen").click();
function openTab(evt, pageName) {
  var i, tabcontent, tablinks;
  tabcontent = document.getElementsByClassName("tabcontent");
  for (i = 0; i < tabcontent.length; i++) {
    tabcontent[i].style.display = "none";
  }
  tablinks = document.getElementsByClassName("tablinks");
  for (i = 0; i < tablinks.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" active", "");
  }
  document.getElementById(pageName).style.display = "block";
  evt.currentTarget.className += " active";
}

var el = function(id){ return document.querySelector(id); };
let provider;
window.ethereum.enable().then(provider = new ethers.providers.Web3Provider(window.ethereum));
const signer = provider.getSigner(0);
function getUserAddress(output){
	const response = signer.getAddress(0)
	return response;
}
function setUserAddress(output){
	let response = signer.getAddress(0)
	let responseText = response;
	$('#accountAddress').text(signer.getAddress(0));
}


  const tokenABI = [{"inputs":[{"internalType":"contract BaseRegistrar","name":"_base","type":"address"},{"internalType":"contract PriceOracle","name":"_prices","type":"address"},{"internalType":"uint256","name":"_minCommitmentAge","type":"uint256"},{"internalType":"uint256","name":"_maxCommitmentAge","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"name","type":"string"},{"indexed":true,"internalType":"bytes32","name":"label","type":"bytes32"},{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"uint256","name":"cost","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"expires","type":"uint256"}],"name":"NameRegistered","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"name","type":"string"},{"indexed":true,"internalType":"bytes32","name":"label","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"cost","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"expires","type":"uint256"}],"name":"NameRenewed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"oracle","type":"address"}],"name":"NewPriceOracle","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"constant":true,"inputs":[],"name":"MIN_REGISTRATION_DURATION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"string","name":"name","type":"string"}],"name":"available","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"commitment","type":"bytes32"}],"name":"commit","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"commitments","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"bytes32","name":"secret","type":"bytes32"}],"name":"makeCommitment","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[],"name":"maxCommitmentAge","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"minCommitmentAge","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"duration","type":"uint256"},{"internalType":"bytes32","name":"secret","type":"bytes32"}],"name":"register","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"uint256","name":"duration","type":"uint256"}],"name":"renew","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"uint256","name":"duration","type":"uint256"}],"name":"rentPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"_minCommitmentAge","type":"uint256"},{"internalType":"uint256","name":"_maxCommitmentAge","type":"uint256"}],"name":"setCommitmentAges","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"contract PriceOracle","name":"_prices","type":"address"}],"name":"setPriceOracle","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes4","name":"interfaceID","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"string","name":"name","type":"string"}],"name":"valid","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"withdraw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"}];
  
  const resolverABI = [{"inputs":[{"internalType":"contract ENS","name":"_ens","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"node","type":"bytes32"},{"indexed":true,"internalType":"uint256","name":"contentType","type":"uint256"}],"name":"ABIChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"node","type":"bytes32"},{"indexed":false,"internalType":"address","name":"a","type":"address"}],"name":"AddrChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"node","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"coinType","type":"uint256"},{"indexed":false,"internalType":"bytes","name":"newAddress","type":"bytes"}],"name":"AddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"node","type":"bytes32"},{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"target","type":"address"},{"indexed":false,"internalType":"bool","name":"isAuthorised","type":"bool"}],"name":"AuthorisationChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"node","type":"bytes32"},{"indexed":false,"internalType":"bytes","name":"hash","type":"bytes"}],"name":"ContenthashChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"node","type":"bytes32"},{"indexed":false,"internalType":"bytes","name":"name","type":"bytes"},{"indexed":false,"internalType":"uint16","name":"resource","type":"uint16"},{"indexed":false,"internalType":"bytes","name":"record","type":"bytes"}],"name":"DNSRecordChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"node","type":"bytes32"},{"indexed":false,"internalType":"bytes","name":"name","type":"bytes"},{"indexed":false,"internalType":"uint16","name":"resource","type":"uint16"}],"name":"DNSRecordDeleted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"node","type":"bytes32"}],"name":"DNSZoneCleared","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"node","type":"bytes32"},{"indexed":false,"internalType":"bytes","name":"lastzonehash","type":"bytes"},{"indexed":false,"internalType":"bytes","name":"zonehash","type":"bytes"}],"name":"DNSZonehashChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"node","type":"bytes32"},{"indexed":true,"internalType":"bytes4","name":"interfaceID","type":"bytes4"},{"indexed":false,"internalType":"address","name":"implementer","type":"address"}],"name":"InterfaceChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"node","type":"bytes32"},{"indexed":false,"internalType":"string","name":"name","type":"string"}],"name":"NameChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"node","type":"bytes32"},{"indexed":false,"internalType":"bytes32","name":"x","type":"bytes32"},{"indexed":false,"internalType":"bytes32","name":"y","type":"bytes32"}],"name":"PubkeyChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"node","type":"bytes32"},{"indexed":true,"internalType":"string","name":"indexedKey","type":"string"},{"indexed":false,"internalType":"string","name":"key","type":"string"}],"name":"TextChanged","type":"event"},{"constant":true,"inputs":[{"internalType":"bytes32","name":"node","type":"bytes32"},{"internalType":"uint256","name":"contentTypes","type":"uint256"}],"name":"ABI","outputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"bytes","name":"","type":"bytes"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes32","name":"node","type":"bytes32"}],"name":"addr","outputs":[{"internalType":"address payable","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes32","name":"node","type":"bytes32"},{"internalType":"uint256","name":"coinType","type":"uint256"}],"name":"addr","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"},{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"authorisations","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"node","type":"bytes32"}],"name":"clearDNSZone","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes32","name":"node","type":"bytes32"}],"name":"contenthash","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes32","name":"node","type":"bytes32"},{"internalType":"bytes32","name":"name","type":"bytes32"},{"internalType":"uint16","name":"resource","type":"uint16"}],"name":"dnsRecord","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes32","name":"node","type":"bytes32"},{"internalType":"bytes32","name":"name","type":"bytes32"}],"name":"hasDNSRecords","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes32","name":"node","type":"bytes32"},{"internalType":"bytes4","name":"interfaceID","type":"bytes4"}],"name":"interfaceImplementer","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes32","name":"node","type":"bytes32"}],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes32","name":"node","type":"bytes32"}],"name":"pubkey","outputs":[{"internalType":"bytes32","name":"x","type":"bytes32"},{"internalType":"bytes32","name":"y","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"node","type":"bytes32"},{"internalType":"uint256","name":"contentType","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"setABI","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"node","type":"bytes32"},{"internalType":"uint256","name":"coinType","type":"uint256"},{"internalType":"bytes","name":"a","type":"bytes"}],"name":"setAddr","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"node","type":"bytes32"},{"internalType":"address","name":"a","type":"address"}],"name":"setAddr","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"node","type":"bytes32"},{"internalType":"address","name":"target","type":"address"},{"internalType":"bool","name":"isAuthorised","type":"bool"}],"name":"setAuthorisation","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"node","type":"bytes32"},{"internalType":"bytes","name":"hash","type":"bytes"}],"name":"setContenthash","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"node","type":"bytes32"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"setDNSRecords","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"node","type":"bytes32"},{"internalType":"bytes4","name":"interfaceID","type":"bytes4"},{"internalType":"address","name":"implementer","type":"address"}],"name":"setInterface","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"node","type":"bytes32"},{"internalType":"string","name":"name","type":"string"}],"name":"setName","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"node","type":"bytes32"},{"internalType":"bytes32","name":"x","type":"bytes32"},{"internalType":"bytes32","name":"y","type":"bytes32"}],"name":"setPubkey","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"node","type":"bytes32"},{"internalType":"string","name":"key","type":"string"},{"internalType":"string","name":"value","type":"string"}],"name":"setText","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"node","type":"bytes32"},{"internalType":"bytes","name":"hash","type":"bytes"}],"name":"setZonehash","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes4","name":"interfaceID","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes32","name":"node","type":"bytes32"},{"internalType":"string","name":"key","type":"string"}],"name":"text","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes32","name":"node","type":"bytes32"}],"name":"zonehash","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"payable":false,"stateMutability":"view","type":"function"}];

const registrarMap = {
	defi: '0x36593DA4b6E642339Ac37B64791430FE0c911173',
	sample: '0x36593DA4b6E642339Ac37B64791430FE0c911170',
};

const resolverMap = {
	defi: '0x6e4498BdE4bD9c5Aa93FFf1FF609E550cCFe1fBF',
	sample: '0x6e4498BdE4bD9c5Aa93FFf1FF609E550cCFe1fBF',
}

$("#button").click(function() {
			console.log("function start");
			var name = $("#name").val()
			var tld = name.split('.').pop();
			if(tld in registrarMap){
				var registrarAddr = registrarMap[tld];
				console.log(registrarAddr);
				var contract = new ethers.Contract(registrarAddr, tokenABI, provider);
				console.log(contract);
				contract.available(name).then((available) => {
				console.log(name, 'is', available);
				if(available == true){
					document.getElementById("availresult").innerHTML = "<strong><span style='color:green'></br>That domain name is available to register.</span></strong>";
				} else {
					document.getElementById("availresult").innerHTML = "<strong></br><span style='color:red'>That domain is unavailable.</span></strong>";
				}})
			} else if(tld == "eth"){
				document.getElementById("availresult").innerHTML = "<br><strong><span style='color:red'>That domain isn't managed by the EARNS System, it is managed by ENS. You'll have to visit their website to register that domain.</strong></span>"
			} else {
				document.getElementById("availresult").innerHTML = "<br><strong><span style='color:red'>That TLD is not currently registered. If you are interested in registering a TLD of your own, please contact tlds@earns.domains to discuss purchasing. Please note prices start at $50,000 annually.</strong></span>"
			}
			});
		
		
$("#pricecheckbtn").click(function() {
			var name = $("#pricecheck").val()
			var tld = name.split('.').pop();
			if(registrarMap.hasOwnProperty(tld)){
				var registrarAddr = registrarMap[tld];
				var contract = new ethers.Contract(registrarAddr, tokenABI, provider);
				console.log(name);
				let currentPrice = contract.rentPrice(name,31536000).then((response) => {
					var ethprice = ethers.utils.formatEther(response, 'ether')
					document.getElementById("priceresult").innerHTML = '<br>The price to register that domain for <u>one year</u> is <strong>' + ethprice + '</strong> ETH';
					console.log(ethers.utils.formatEther(response, 'ether'));
					
				});
			} else {
				document.getElementById("priceresult").innerHTML = "<br><b>The system was unable to find a price for that domain. Please use the check availability function to ensure the domain exists. Remember to include your tld such as '.defi' and remember that domains are case sensitive.</b>"
			}});
			
$("#committerbtn").click(function() {
			console.log("started");
			let adr = signer.getAddress(0).then((response) => {
			var addr = response;
			var name = $("#committer").val()
			console.log(addr);
			var tld = name.split('.').pop();
			if(registrarMap.hasOwnProperty(tld)){
				var r = Math.random().toString(30).substring(10);
				var secret = ethers.utils.formatBytes32String(r);
				var commitname = $("#committer").val()
				console.log(commitname);
				console.log(secret);
				var registrarAddr = registrarMap[name.split('.').pop()];
				var contract = new ethers.Contract(registrarAddr, tokenABI, provider);
					let commits = contract.makeCommitment(commitname,addr,secret).then((response) => {
					console.log(commits);
					var commited = response;
					console.log(commited);
					var contractwrite = new ethers.Contract(registrarAddr, tokenABI, signer);
					contractwrite.commit(commited);
					var counter = 90;
					var interval = setInterval(function() {
						counter--;
						// Display 'counter' wherever you want to display it.
						if (counter <= 0) {
							clearInterval(interval);
							$('#timer').html("<h3>Count down complete</h3>");  
							return;
						}else{
							$('#time').text('Waiting ' + counter +' more seconds before transaction part 2. The second transaction will load automatically when ready, and you\'ll be set to register your domain.');
							console.log("Timer " + counter);
							}
						}, 1000);
					contract.rentPrice(commitname,31536000).then((response	) => {
					var regPrice = ethers.utils.formatEther(response, 'ether');
					var unencodedPrice = response.add(response.div(10));
					setTimeout(() => {
					let overrides = {
						gasPrice: 20000000000,
						gasLimit: 400000,
						value: unencodedPrice
					};
					var commitname2 = $("#committer").val()
					contractwrite.register(commitname2,addr,31536000,secret,overrides).then(tx => {
						console.log(commitname2);
						console.log(addr);
						console.log(secret);
						console.log(tx);
						})
					}, 89000);
				})
			
		}
		
		)} else {
			document.getElementById("status").innerHTML = "The domain you are trying to register has an unsupported TLD."
		}
		
		} )});
		
$("#managebtn").click(function() {
			console.log("function start");
			var resolveaddr = $("#resolveaddr").val()
			var tld = resolveaddr.split('.').pop();
			if(tld in resolverMap){
				var resolverAddr = resolverMap[tld];
				var namehash = ethers.utils.namehash($("#resolveaddr").val());
				var walletaddr = $("#walletaddr").val();
				var contractwriter = new ethers.Contract(resolverAddr, resolverABI, signer)
				console.log(resolverABI);
				console.log(resolverAddr);
				console.log(signer);
				console.log(contractwriter);
				contractwriter["setAddr(bytes32,address)"](namehash, walletaddr).then(() => {})
			} else if(tld == "eth"){
				document.getElementById("availresult").innerHTML = "<br><strong><span style='color:red'>That domain isn't managed by the EARNS System, it is managed by ENS. You'll have to visit their website to manage that domain.</strong></span>"
			} else {
				document.getElementById("availresult").innerHTML = "<br><strong><span style='color:red'>That TLD is not currently registered. If you are interested in registering a TLD of your own, please contact tlds@earns.domains to discuss purchasing. Please note prices start at $50,000 annually.</strong></span>"
			}
			});
</script>
</body>
</html>